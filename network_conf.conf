# Zabbix UserParameter Configuration for Network Monitoring
# File location: /etc/zabbix/zabbix_agentd.d/network_monitor.conf

# Basic ping connectivity (1=reachable, 0=not reachable)
UserParameter=net.ping[*],/etc/zabbix/scripts/network_monitor.sh ping $1

# Ping response time in seconds
UserParameter=net.ping.response_time[*],/etc/zabbix/scripts/network_monitor.sh response_time $1 $2 $3

# Packet loss percentage
UserParameter=net.ping.packet_loss[*],/etc/zabbix/scripts/network_monitor.sh packet_loss $1 $2 $3

# TCP port connectivity check
UserParameter=net.tcp.check[*],/etc/zabbix/scripts/network_monitor.sh tcp_check $1 $2 $3

# UDP port connectivity check  
UserParameter=net.udp.check[*],/etc/zabbix/scripts/network_monitor.sh udp_check $1 $2 $3

# TCP port response time
UserParameter=net.tcp.response_time[*],/etc/zabbix/scripts/network_monitor.sh port_response_time $1 $2 $3

# HTTP/HTTPS connectivity check
UserParameter=net.http.check[*],/etc/zabbix/scripts/network_monitor.sh http_check $1 $2 $3

# Advanced ping with custom count and timeout
UserParameter=net.ping.advanced[*],/etc/zabbix/scripts/network_monitor.sh ping $1 $2 $3 $4

# Combined connectivity check (ping + port if specified)
UserParameter=net.connectivity[*],if [ -z "$2" ]; then /etc/zabbix/scripts/network_monitor.sh ping $1; else /etc/zabbix/scripts/network_monitor.sh tcp_check $1 $2; fi